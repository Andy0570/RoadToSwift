**æ–¹æ³•** æ˜¯å…³è”äº†ç‰¹å®šç±»å‹çš„å‡½æ•°ã€‚ç±»ï¼Œç»“æ„ä½“ä»¥åŠæšä¸¾éƒ½èƒ½å®šä¹‰**å®ä¾‹æ–¹æ³•**ï¼Œæ–¹æ³•å°è£…äº†ç»™å®šç±»å‹ç‰¹å®šçš„ä»»åŠ¡å’ŒåŠŸèƒ½ã€‚ç±»ï¼Œç»“æ„ä½“å’Œæšä¸¾åŒæ ·å¯ä»¥å®šä¹‰**ç±»å‹æ–¹æ³•**ï¼Œè¿™æ˜¯ä¸ç±»å‹æœ¬èº«å…³è”çš„æ–¹æ³•ã€‚ç±»å‹æ–¹æ³•ä¸ Objective-C ä¸­çš„ç±»æ–¹æ³•ç›¸ä¼¼ã€‚

## å®ä¾‹æ–¹æ³•


**å®ä¾‹æ–¹æ³•** æ˜¯å±äºç‰¹å®šç±»å®ä¾‹ã€ç»“æ„ä½“å®ä¾‹æˆ–è€…æšä¸¾å®ä¾‹çš„å‡½æ•°ã€‚ä»–ä»¬ä¸ºè¿™äº›å®ä¾‹æä¾›åŠŸèƒ½æ€§ï¼Œè¦ä¹ˆé€šè¿‡æä¾›è®¿é—®å’Œä¿®æ”¹å®ä¾‹å±æ€§çš„æ–¹æ³•ï¼Œè¦ä¹ˆé€šè¿‡æä¾›ä¸å®ä¾‹ç›®çš„ç›¸å…³çš„åŠŸèƒ½ã€‚å®ä¾‹æ–¹æ³•ä¸**å‡½æ•°**çš„è¯­æ³•å®Œå…¨ç›¸åŒã€‚

è¦å†™ä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œä½ éœ€è¦æŠŠå®ƒæ”¾åœ¨å¯¹åº”ç±»çš„èŠ±æ‹¬å·ä¹‹é—´ã€‚å®ä¾‹æ–¹æ³•é»˜è®¤å¯ä»¥è®¿é—®åŒç±»ä¸‹æ‰€æœ‰å…¶ä»–å®ä¾‹æ–¹æ³•å’Œå±æ€§ã€‚å®ä¾‹æ–¹æ³•åªèƒ½åœ¨ç±»å‹çš„å…·ä½“å®ä¾‹é‡Œè¢«è°ƒç”¨ã€‚å®ƒä¸èƒ½åœ¨ç‹¬ç«‹äºå®ä¾‹è€Œè¢«è°ƒç”¨ã€‚

```swift
class Counter {
    var count = 0
    // å®ä¾‹æ–¹æ³•1ï¼šæ¯æ¬¡ç»™è®¡æ•°å™¨å¢åŠ  1
    func increment() {
        count += 1
    }
    // å®ä¾‹æ–¹æ³•2ï¼šæŒ‰ç…§ç‰¹å®šçš„æ•´å‹æ•°é‡æ¥å¢åŠ  è®¡æ•°å™¨
    func increment(by amount: Int) {
        count += amount
    }
    // å®ä¾‹æ–¹æ³•3ï¼šæŠŠè®¡æ•°å™¨é‡ç½®ä¸ºé›¶
    func reset() {
        count = 0
    }
}

let counter = Counter() // count = 0
counter.increment() // count = 1
counter.increment(by: 5) // count = 6
counter.reset() // count = 0
```


### self å±æ€§

æ¯ä¸€ä¸ªç±»çš„å®ä¾‹éƒ½éšå«ä¸€ä¸ªå«åš `self` çš„å±æ€§ï¼Œå®ƒå®Œå®Œå…¨å…¨ä¸å®ä¾‹æœ¬èº«ç›¸ç­‰ã€‚ä½ å¯ä»¥ä½¿ç”¨ `self` å±æ€§æ¥åœ¨å½“å‰å®ä¾‹å½“ä¸­è°ƒç”¨å®ƒè‡ªèº«çš„æ–¹æ³•ã€‚

åœ¨ä¸Šè¾¹çš„ä¾‹å­ä¸­ï¼Œ `increment()` æ–¹æ³•å¯ä»¥å†™æˆè¿™æ ·ï¼š

```swift
func increment() {
    self.count += 1
}
```

å®é™…ä¸Šï¼Œä½ ä¸éœ€è¦ç»å¸¸åœ¨ä»£ç ä¸­å†™ `self`ã€‚å¦‚æœä½ æ²¡æœ‰æ˜¾å¼åœ°å†™å‡º `self`ï¼ŒSwift ä¼šåœ¨ä½ äºæ–¹æ³•ä¸­ä½¿ç”¨å·²çŸ¥å±æ€§æˆ–è€…æ–¹æ³•çš„æ—¶å€™å‡å®šä½ æ˜¯è°ƒç”¨äº†å½“å‰å®ä¾‹ä¸­çš„å±æ€§æˆ–è€…æ–¹æ³•ã€‚è¿™ä¸ªå‡å®šé€šè¿‡åœ¨ `Counter` çš„ä¸‰ä¸ªå®ä¾‹ä¸­ä½¿ç”¨ `count`ï¼ˆè€Œä¸æ˜¯ `self.count`ï¼‰æ¥åšäº†ç¤ºèŒƒã€‚

å¯¹äºè¿™ä¸ªè§„åˆ™çš„ä¸€ä¸ªé‡è¦ä¾‹å¤–å°±æ˜¯**å½“ä¸€ä¸ªå®ä¾‹æ–¹æ³•çš„å½¢å¼å‚æ•°åä¸å®ä¾‹ä¸­æŸä¸ªå±æ€§æ‹¥æœ‰ç›¸åŒçš„åå­—çš„æ—¶å€™**ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ**å½¢å¼å‚æ•°åå…·æœ‰ä¼˜å…ˆæƒ**ï¼Œå¹¶ä¸”è°ƒç”¨å±æ€§çš„æ—¶å€™ä½¿ç”¨æ›´åŠ ä¸¥è°¨çš„æ–¹å¼å°±å¾ˆæœ‰å¿…è¦äº†ã€‚ä½ å¯ä»¥ä½¿ç”¨ self å±æ€§æ¥åŒºåˆ†å½¢å¼å‚æ•°åå’Œå±æ€§åã€‚
è¿™æ—¶ï¼Œ `self` å°±é¿å…äº†å«åš x çš„æ–¹æ³•å½¢å¼å‚æ•°è¿˜æ˜¯åŒæ ·å«åš x çš„å®ä¾‹å±æ€§è¿™æ ·çš„æ­§ä¹‰ã€‚


```swift
struct Point {
    var x = 0.0, y = 0.0
    func isToTheRightOf(x: Double) -> Bool {
        return self.x > x
    }
}

let somePoint = Point(x: 4.0, y: 5.0)
if somePoint.isToTheRightOf(x: 1.0) {
    print("This point is to the right of the line where x == 1.0")
}
// This point is to the right of the line where x == 1.0
```

### åœ¨å®ä¾‹æ–¹æ³•ä¸­ä¿®æ”¹å€¼ç±»å‹ï¼ˆ`mutating`ï¼‰

**ç»“æ„ä½“**å’Œ**æšä¸¾**æ˜¯å€¼ç±»å‹ã€‚**é»˜è®¤æƒ…å†µä¸‹ï¼Œå€¼ç±»å‹å±æ€§ä¸èƒ½è¢«è‡ªèº«çš„å®ä¾‹æ–¹æ³•ä¿®æ”¹**ï¼ˆå› ä¸ºä¼ é€’å€¼ç±»å‹æ—¶ä¼šæ‰§è¡Œæ‹·è´ï¼Œè€Œä¸æ˜¯å¼•ç”¨ï¼‰ã€‚

æ€»ä¹‹ï¼Œ**å¦‚æœä½ éœ€è¦åœ¨ç‰¹å®šçš„æ–¹æ³•ä¸­ä¿®æ”¹ã€Œç»“æ„ä½“ã€æˆ–è€…ã€Œæšä¸¾ã€çš„å±æ€§ï¼Œä½ å¯ä»¥é€‰æ‹©å°†è¿™ä¸ªæ–¹æ³•å¼‚å˜**ã€‚ç„¶åè¿™ä¸ªæ–¹æ³•å°±å¯ä»¥åœ¨æ–¹æ³•ä¸­å¼‚å˜ï¼ˆå—¯ï¼Œæ”¹å˜ï¼‰å®ƒçš„å±æ€§äº†ï¼Œå¹¶ä¸”ä»»ä½•æ”¹å˜åœ¨æ–¹æ³•ç»“æŸçš„æ—¶å€™éƒ½ä¼šå†™å…¥åˆ°åŸå§‹çš„ç»“æ„ä½“ä¸­ã€‚æ–¹æ³•åŒæ ·å¯ä»¥æŒ‡å®šä¸€ä¸ªå…¨æ–°çš„å®ä¾‹ç»™å®ƒéšå«çš„ `self` å±æ€§ï¼Œå¹¶ä¸”è¿™ä¸ªæ–°çš„å®ä¾‹å°†ä¼šåœ¨æ–¹æ³•ç»“æŸçš„æ—¶å€™æ›¿æ¢æ‰ç°å­˜çš„è¿™ä¸ªå®ä¾‹ã€‚

> ğŸ’¡ é€šè¿‡ `mutating` å…³é”®å­—åœ¨å®ä¾‹æ–¹æ³•ä¸­ä¿®æ”¹ç»“æ„ä½“ã€æšä¸¾å±æ€§çš„å€¼ï¼

ä½ å¯ä»¥é€‰æ‹©åœ¨ `func` å…³é”®å­—å‰æ”¾ä¸€ä¸ª `mutating` å…³é”®å­—æ¥ä½¿ç”¨è¿™ä¸ªè¡Œä¸ºï¼š

```swift
struct Point {
    var x = 0.0, y = 0.0
    mutating func moveBy(x deltaX: Double, y deltaY: Double) {
        x += deltaX
        y += deltaY
    }
}

var somePoint = Point(x: 1.0, y: 1.0) // (1, 1)
somePoint.moveBy(x: 2.0, y: 3.0) // (3, 4)
print("The point is now at (\(somePoint.x), \(somePoint.y))")
// The point is now at (3.0, 4.0)
```


### åœ¨å¼‚å˜æ–¹æ³•é‡ŒæŒ‡å®šè‡ªèº«

å¼‚å˜æ–¹æ³•å¯ä»¥æŒ‡å®šæ•´ä¸ªå®ä¾‹ç»™éšå«çš„ `self` å±æ€§ã€‚ä¸Šæ–‡ä¸­é‚£ä¸ª `Point` çš„æ —å­å¯ä»¥ç”¨ä¸‹è¾¹çš„ä»£ç ä»£æ›¿ï¼š

```swift
struct Point {
    var x = 0.0, y = 0.0
    mutating func moveBy(x deltaX: Double, y deltaY: Double) {
        self = Point(x: x + deltaY, y: y + deltaY)
    }
}
```

æšä¸¾çš„å¼‚å˜æ–¹æ³•å¯ä»¥è®¾ç½®éšå«çš„ `self` å±æ€§ä¸ºç›¸åŒæšä¸¾é‡Œçš„ä¸åŒæˆå‘˜ï¼š

```swift
enum TriStateSwitch {
    case off, low, high
    mutating func next() {
        switch self {
        case .off:
            self = .low
        case .low:
            self = .high
        case .high:
            self = .off
        }
    }
}

var orenLight = TriStateSwitch.low
orenLight.next()
// ovenLight is now equal to .high
orenLight.next()
// ovenLight is now equal to .off
```

è¿™ä¸ªæ —å­å®šä¹‰äº†ä¸€ä¸ªä¸‰ç§å¼€å…³çŠ¶æ€çš„æšä¸¾ã€‚æ¯æ¬¡è°ƒç”¨ `next()` æ–¹æ³•æ—¶ï¼Œè¿™ä¸ªå¼€å…³å°±ä¼šåœ¨ä¸‰ç§ä¸åŒçš„ç”µåŠ›çŠ¶æ€ï¼ˆ `Off` , `low` å’Œ `high`ï¼‰ä¸‹åˆ‡æ¢ã€‚


## ç±»å‹æ–¹æ³•

å¦‚ä¸Šæ–‡æè¿°çš„é‚£æ ·ï¼Œå®ä¾‹æ–¹æ³•æ˜¯ç‰¹å®šç±»å‹å®ä¾‹ä¸­è°ƒç”¨çš„æ–¹æ³•ã€‚ä½ åŒæ ·å¯ä»¥å®šä¹‰åœ¨ç±»å‹æœ¬èº«è°ƒç”¨çš„æ–¹æ³•ã€‚è¿™ç±»æ–¹æ³•è¢«ç§°ä½œç±»å‹æ–¹æ³•ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨ `func` å…³é”®å­—ä¹‹å‰ä½¿ç”¨ `static` å…³é”®å­—æ¥æ˜ç¡®ä¸€ä¸ª**ç±»å‹æ–¹æ³•**ã€‚ç±»åŒæ ·å¯ä»¥ä½¿ç”¨ `class` å…³é”®å­—æ¥**å…è®¸å­ç±»é‡å†™çˆ¶ç±»å¯¹ç±»å‹æ–¹æ³•çš„å®ç°**ã€‚

ç±»å‹æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•ä¸€æ ·ä½¿ç”¨ç‚¹è¯­æ³•è°ƒç”¨ã€‚ä¸è¿‡ï¼Œä½ å¾—åœ¨ç±»ä¸Šè°ƒç”¨ç±»å‹æ–¹æ³•ï¼Œè€Œä¸æ˜¯è¿™ä¸ªç±»çš„å®ä¾‹ã€‚æ¥ä¸‹æ¥æ˜¯ä¸€ä¸ªåœ¨ `SomeClass` ç±»é‡Œè°ƒç”¨ç±»å‹æ–¹æ³•çš„æ —å­ï¼š

```swift
class SomeClass {
    static func someTypeMethod() {
        // type method implementation goes here
    }
}

SomeClass.someTypeMethod()
```

